{"ast":null,"code":"var _jsxFileName = \"/Users/ste/Documents/JOB/OPENCLASSROOMS/PROJET 12/OCR_P12_SPORTSEE/front-end/src/components/DiagrammeCourbe/index.jsx\",\n  _s = $RefreshSig$();\nimport './style.scss';\nimport { USER_AVERAGE_SESSIONS } from '../../data/mocked-data';\nimport { Modelisation } from '../../data/Modelisation';\nimport useFetch from '../../hooks/useFetch';\n\n// import React, { PureComponent } from 'react'\nimport { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer, Rectangle } from 'recharts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DiagrammeCourbe(_ref) {\n  _s();\n  let {\n    userId\n  } = _ref;\n  const {\n    data,\n    error\n  } = useFetch(`http://localhost:3000/user/${userId}/average-sessions`, getUserDataMockWithId());\n  function getUserDataMockWithId() {\n    const userData = USER_AVERAGE_SESSIONS.find(user => +user.userId === +userId);\n    return userData;\n  }\n  function getData() {\n    const modelisation = new Modelisation(data);\n    return modelisation.formatDataSessions();\n  }\n  if (data !== null) {\n    const CustomTooltip = _ref2 => {\n      let {\n        active,\n        payload\n      } = _ref2;\n      if (active && payload && payload.length) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom-tooltip-courbe\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"kg\",\n            children: `${payload[0].value} min`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this);\n      }\n      return null;\n    };\n    const CustomCursor = prop => {\n      const {\n        width,\n        points\n      } = prop;\n      const X = points[0].x;\n      const Y = points[0].y;\n      const sum = 1000;\n      return /*#__PURE__*/_jsxDEV(Rectangle, {\n        width: sum,\n        height: 350,\n        x: X,\n        y: Y,\n        style: {\n          background: 'red',\n          opacity: 0.1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this);\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `diagrammes-item diagrammes_diagramme-courbe`,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"title\",\n        children: [\"Dur\\xE9e moyenne des \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this), \"sessions\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        margin: {\n          top: 0,\n          right: 0,\n          bottom: 0,\n          left: 0\n        },\n        children: /*#__PURE__*/_jsxDEV(LineChart, {\n          data: getData(),\n          margin: {\n            top: 0,\n            right: 18,\n            left: 18,\n            bottom: 0\n          },\n          children: [/*#__PURE__*/_jsxDEV(Line, {\n            type: \"natural\",\n            dataKey: \"pv\",\n            stroke: \"white\",\n            strokeWidth: 1,\n            fill: \"white\",\n            dot: false,\n            activeDot: {\n              stroke: 'rgba(255,255,255, 0.6)',\n              strokeWidth: 8,\n              r: 5\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"name\",\n            stroke: \"rgba(255,255,255, 0.5)\",\n            strokeWidth: 0,\n            tick: {\n              fontSize: 12\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            hide: true,\n            padding: {\n              top: 70,\n              bottom: 20\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            content: /*#__PURE__*/_jsxDEV(CustomTooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 24\n            }, this),\n            wrapperStyle: {\n              outline: 'none'\n              // backgroundColor: 'transparent',\n            },\n\n            cursor: /*#__PURE__*/_jsxDEV(CustomCursor, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s(DiagrammeCourbe, \"nxGcM3ZnyDIOqE8/kWT+fd3s9HI=\", false, function () {\n  return [useFetch];\n});\n_c = DiagrammeCourbe;\nexport default DiagrammeCourbe;\nvar _c;\n$RefreshReg$(_c, \"DiagrammeCourbe\");","map":{"version":3,"names":["USER_AVERAGE_SESSIONS","Modelisation","useFetch","LineChart","Line","XAxis","YAxis","Tooltip","ResponsiveContainer","Rectangle","DiagrammeCourbe","userId","data","error","getUserDataMockWithId","userData","find","user","getData","modelisation","formatDataSessions","CustomTooltip","active","payload","length","value","CustomCursor","prop","width","points","X","x","Y","y","sum","background","opacity","top","right","bottom","left","stroke","strokeWidth","r","fontSize","outline"],"sources":["/Users/ste/Documents/JOB/OPENCLASSROOMS/PROJET 12/OCR_P12_SPORTSEE/front-end/src/components/DiagrammeCourbe/index.jsx"],"sourcesContent":["import './style.scss'\n\nimport { USER_AVERAGE_SESSIONS } from '../../data/mocked-data'\nimport { Modelisation } from '../../data/Modelisation'\nimport useFetch from '../../hooks/useFetch'\n\n// import React, { PureComponent } from 'react'\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  Rectangle,\n} from 'recharts'\n\nfunction DiagrammeCourbe({ userId }) {\n  const { data, error } = useFetch(\n    `http://localhost:3000/user/${userId}/average-sessions`,\n    getUserDataMockWithId()\n  )\n\n  function getUserDataMockWithId() {\n    const userData = USER_AVERAGE_SESSIONS.find(\n      (user) => +user.userId === +userId\n    )\n    return userData\n  }\n\n  function getData() {\n    const modelisation = new Modelisation(data)\n    return modelisation.formatDataSessions()\n  }\n\n  if (data !== null) {\n    const CustomTooltip = ({ active, payload }) => {\n      if (active && payload && payload.length) {\n        return (\n          <div className=\"custom-tooltip-courbe\">\n            <p className=\"kg\">{`${payload[0].value} min`}</p>\n          </div>\n        )\n      }\n\n      return null\n    }\n\n    const CustomCursor = (prop) => {\n      const { width, points } = prop\n      const X = points[0].x\n      const Y = points[0].y\n      const sum = 1000\n      return (\n        <Rectangle\n          width={sum}\n          height={350}\n          x={X}\n          y={Y}\n          style={{\n            background: 'red',\n            opacity: 0.1,\n          }}\n        />\n      )\n    }\n    return (\n      <div className={`diagrammes-item diagrammes_diagramme-courbe`}>\n        <p className=\"title\">\n          Dur√©e moyenne des <br />\n          sessions\n        </p>\n        <ResponsiveContainer margin={{ top: 0, right: 0, bottom: 0, left: 0 }}>\n          <LineChart\n            data={getData()}\n            margin={{\n              top: 0,\n              right: 18,\n              left: 18,\n              bottom: 0,\n            }}\n          >\n            <Line\n              type=\"natural\"\n              dataKey=\"pv\"\n              stroke=\"white\"\n              strokeWidth={1}\n              fill=\"white\"\n              dot={false}\n              activeDot={{\n                stroke: 'rgba(255,255,255, 0.6)',\n                strokeWidth: 8,\n                r: 5,\n              }}\n            />\n\n            <XAxis\n              dataKey=\"name\"\n              stroke=\"rgba(255,255,255, 0.5)\"\n              strokeWidth={0}\n              tick={{ fontSize: 12 }}\n            />\n            <YAxis hide padding={{ top: 70, bottom: 20 }} />\n\n            <Tooltip\n              content={<CustomTooltip />}\n              wrapperStyle={{\n                outline: 'none',\n                // backgroundColor: 'transparent',\n              }}\n              cursor={<CustomCursor />}\n            />\n          </LineChart>\n        </ResponsiveContainer>\n      </div>\n    )\n  }\n}\n\nexport default DiagrammeCourbe\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}